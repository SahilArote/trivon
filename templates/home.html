
{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
	/* ================= MOVING PRODUCTS STRIP ================= */
.moving-products {
    width: 100%;
    overflow: hidden;
    background: #fff;
    border-top: 1px solid #eee;
    border-bottom: 1px solid #eee;
    padding: 8px 0;
}

.moving-track {
    display: flex;
    width: max-content;
    animation: scrollProducts 10s linear infinite;
}

.moving-item {
    flex: 0 0 auto;
    width: 90px;
    height: 90px;
    margin: 0 10px;
    border-radius: 10px;
    overflow: hidden;
    background: #f7f7f7;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}

.moving-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* Pause on hover */
.moving-products:hover .moving-track {
    animation-play-state: paused;
}

@keyframes scrollProducts {
    from {
        transform: translateX(250%);
    }
    to {
        transform: translateX(-150%);
    }
}

/* ================= MOBILE ================= */
@media (max-width: 576px) {
    .moving-item {
        width: 70px;
        height: 70px;
        margin: 0 6px;
    }
}
</style>

<section class="section-categories-mobile">
<div class="container">
	<div class="categories-scroll">
		{% for category in links %}
		<a href="{{ category.get_url }}" class="category-card">
			<div class="category-img">
				<img src="{{ category.cat_image.url }}" alt="{{ category.category_name }}">
			</div>
			<div class="category-name">{{ category.category_name }}</div>
		</a>
		{% endfor %}
	</div>
</div> <!-- container //  -->
</section>

<section class="section-intro">
<div class="banner-slider">
    <div class="slides-container" id="slidesContainer">
        <div class="slide">
            <img src="{% static 'images/banners/8277025.jpg' %}" alt="Banner 1">
        </div>
        <div class="slide">
            <img src="{% static 'images/banners/19292.jpg' %}" alt="Banner 2">
        </div>
    </div>
    <div class="slide-dots" id="slideDots"></div>
</div>
</section>

<!-- ================= MOVING PRODUCTS STRIP ================= -->
<section class="moving-products">
    <div class="moving-track">
        {% for product in products %}
        <a href="{{ product.get_url }}" class="moving-item">
            <img src="{{ product.image.url }}" alt="{{ product.product_name }}">
        </a>
        {% endfor %}

        {# duplicate for smooth infinite scroll #}
        {% for product in products %}
        <a href="{{ product.get_url }}" class="moving-item">
            <img src="{{ product.image.url }}" alt="{{ product.product_name }}">
        </a>
        {% endfor %}
    </div>
</section>


<section class="section-name padding-y-sm">
	<div class="container">
		
		<header class="section-heading">
			<a href="{% url 'store' %}" class="btn btn-outline-primary float-right">See all</a>
	<h3 class="section-title">Popular products</h3>
</header><!-- sect-heading -->


<div class="row">
	{% for product in products %}
	<div class="col-md-3">
		<div class="card card-product-grid">
			<a href="{{ product.get_url }}" class="img-wrap"> <img src="{{ product.image.url }}" alt="{{ product.product_name }}"> </a>
			<figcaption class="info-wrap">
				<a href="{{ product.get_url }}" class="title">{{ product.product_name }}</a>
				<div class="price mt-1">${{ product.price }}</div> <!-- price-wrap.// -->
				<p>{{ product.stock_status }}</p>
			</figcaption>
		</div>
	</div> <!-- col.// -->
	{% endfor %}
</div> <!-- row.// -->

</div><!-- container // -->
</section>

{% endblock content %}